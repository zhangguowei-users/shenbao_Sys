(function(a){if(typeof define==="function"){define.cmd&&define("jquery-step",["jquery"],function(d,c,b){var e=d("jquery");a(e);return e});define.amd&&define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(a){a.fn.step=function(b){var f=a.extend({},a.fn.step.defaults,b);var c=this.find(".step-header li").length;var d=f.initStep<c?100/(2*c)+100*(f.initStep-1)/c:100;var e=f.initStep;this.find(".step-header").prepend('<div class="step-bar"><div class="step-bar-active"></div></div>');this.find(".step-list").eq(f.initStep-1).show();if(c<f.initStep){f.initStep=c}if(f.animate==false){f.speed=0}this.find(".step-header li").each(function(h,g){if(h<f.initStep){a(g).addClass("step-active")}a(g).prepend("<span>"+(h+1)+"</span>")});this.find(".step-header li").css({"width":100/c+"%"});this.find(".step-header").show();this.find(".step-bar-active").animate({"width":d+"%"},f.speed,function(){});this.nextStep=function(){if(e>=c){return false}return this.goStep(e+1)};this.preStep=function(){if(e<=1){return false}return this.goStep(e-1)};this.goStep=function(g){if(g==undefined||isNaN(g)||g<0){if(window.console&&window.console.error){console.error("the method goStep has a error,page:"+g)}return false}e=g;this.find(".step-list").hide();this.find(".step-list").eq(e-1).show();this.find(".step-header li").each(function(j,h){$li=a(h);$li.removeClass("step-active");if(j<g){$li.addClass("step-active");if(f.scrollTop){a("html,body").animate({scrollTop:0},"slow")}}});d=g<c?100/(2*c)+100*(g-1)/c:100;this.find(".step-bar-active").animate({"width":d+"%"},f.speed,function(){});return true};return this};a.fn.step.defaults={animate:true,speed:500,initStep:1,scrollTop:true}}));